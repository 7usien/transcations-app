{"version":3,"sources":["pages/home/Home.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useFirestore.js","pages/home/TranscationForm.js","components/TranscationList.js","pages/home/Home.js","hooks/useCollection.js","hooks/useLogin.js","pages/login/Login.js","pages/signup/Signup.js","hooks/useSignup.js","components/Navbar.js","hooks/useLogout.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectfirestore","firestore","projectAuth","auth","timeStamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContexct","context","useContext","Error","initalState","document","isPending","error","success","firestoreReducer","useFirestore","collection","response","useState","isCancelled","setIscancelled","ref","dispatchIfnotCancelled","addDocument","doc","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","id","delete","TranscationForm","uid","name","setName","amount","setAmount","onSubmit","e","preventDefault","required","onChange","target","TranscationList","transcations","className","styles","transactions","map","transcation","onClick","Home","_query","_orderBy","documents","setDocuments","setError","query","useRef","current","orderBy","where","onSnapshot","snapshot","result","docs","forEach","push","data","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","setIsCancelled","setIspending","login","signInWithEmailAndPassword","res","useLogin","disabled","Signup","setpassword","displayName","setDisplayName","signUp","createUserWithEmailAndPassword","updateProfile","useSignup","Navbar","Logout","signOut","useLogout","to","App","exact","path","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a1615271.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__1NM7O\",\"content\":\"Home_content__2PxOS\",\"sidebar\":\"Home_sidebar__2uBXh\",\"transactions\":\"Home_transactions__2KyNZ\",\"name\":\"Home_name__27_bM\",\"amount\":\"Home_amount__1hwXT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__OZrLU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__2O8_9\"};","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseConfig = {\r\n apiKey: 'AIzaSyAG4uKFJlko6AELmif8JalDf9r3YrfTpCA',\r\n authDomain: 'mymo-e307c.firebaseapp.com',\r\n projectId: 'mymo-e307c',\r\n storageBucket: 'mymo-e307c.appspot.com',\r\n messagingSenderId: '795490563306',\r\n appId: '1:795490563306:web:ffc281ed045b47056d1393',\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst projectfirestore = firebase.firestore();\r\nconst projectAuth = firebase.auth();\r\n\r\n// time stamp\r\nconst timeStamp = firebase.firestore.Timestamp;\r\n\r\nexport { projectfirestore, projectAuth, timeStamp };\r\n","import { createContext, useEffect, useReducer } from 'react';\r\nimport { projectAuth } from '../firebase/config';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst authReducer = (state, action) => {\r\n switch (action.type) {\r\n  case 'LOGIN':\r\n   return { ...state, user: action.payload };\r\n  case 'LOGOUT':\r\n   return { ...state, user: null };\r\n\r\n  case 'AUTH_IS_READY':\r\n   return { ...state, user: action.payload, authIsReady: true };\r\n\r\n  default:\r\n   return state;\r\n }\r\n};\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n const [state, dispatch] = useReducer(authReducer, {\r\n  user: null,\r\n  authIsReady: false,\r\n });\r\n\r\n useEffect(() => {\r\n  const unsub = projectAuth.onAuthStateChanged((user) => {\r\n   dispatch({ type: 'AUTH_IS_READY', payload: user });\r\n   unsub();\r\n  });\r\n }, []);\r\n\r\n console.log('user state', state);\r\n\r\n return (\r\n  <AuthContext.Provider value={{ ...state, dispatch }}>\r\n   {children}\r\n  </AuthContext.Provider>\r\n );\r\n};\r\n","import { AuthContext } from '../context/AuthContext';\r\nimport { useContext } from 'react';\r\n\r\nexport const useAuthContexct = () => {\r\n const context = useContext(AuthContext);\r\n\r\n if (!context) {\r\n  throw new Error('useAuthContext must be inside a AuthContextProvider');\r\n }\r\n return context;\r\n};\r\n","import { useReducer, useEffect, useState } from 'react';\r\nimport { projectfirestore, timeStamp } from '../firebase/config';\r\n\r\nlet initalState = {\r\n document: null,\r\n isPending: false,\r\n error: null,\r\n success: null,\r\n};\r\n\r\nconst firestoreReducer = (state, action) => {\r\n switch (action.type) {\r\n  case 'IS_PENDING':\r\n   return {\r\n    isPending: true,\r\n    success: false,\r\n    document: null,\r\n    error: null,\r\n   };\r\n  case 'DELETED_DOCUEMTN':\r\n   return {\r\n    isPending: false,\r\n    document: null,\r\n    success: true,\r\n    error: null,\r\n   };\r\n  case 'ADD_DOCUEMTN':\r\n   return {\r\n    isPending: false,\r\n    document: action.payload,\r\n    success: true,\r\n    error: null,\r\n   };\r\n  case 'ERROR':\r\n   return {\r\n    isPending: false,\r\n    document: null,\r\n    success: false,\r\n    error: action.payload,\r\n   };\r\n\r\n  default:\r\n   return state;\r\n }\r\n};\r\n\r\nexport const useFirestore = (collection) => {\r\n const [response, dispatch] = useReducer(firestoreReducer, initalState);\r\n const [isCancelled, setIscancelled] = useState(false);\r\n\r\n // collection ref\r\n const ref = projectfirestore.collection(collection);\r\n const dispatchIfnotCancelled = (action) => {\r\n  if (!isCancelled) {\r\n   dispatch(action);\r\n  }\r\n };\r\n // add documents\r\n const addDocument = async (doc) => {\r\n  dispatch({ type: 'IS_PENDING' });\r\n\r\n  try {\r\n   const createdAt = timeStamp.fromDate(new Date());\r\n   const addedDocument = await ref.add({ ...doc, createdAt: createdAt });\r\n\r\n   dispatchIfnotCancelled({ type: 'ADD_DOCUMENT', payload: addedDocument });\r\n  } catch (err) {\r\n   dispatchIfnotCancelled({ type: 'ERROR', payload: err.message });\r\n  }\r\n };\r\n\r\n // delete a document\r\n const deleteDocument = async (id) => {\r\n  dispatch({ type: 'IS_PENDING' });\r\n\r\n  try {\r\n   await ref.doc(id).delete();\r\n\r\n   dispatchIfnotCancelled({\r\n    type: 'DELETED_DOCUEMTN',\r\n    payload: deleteDocument,\r\n   });\r\n  } catch (err) {\r\n   dispatchIfnotCancelled({ type: 'ERROR' });\r\n  }\r\n };\r\n\r\n useEffect(() => {\r\n  return () => {\r\n   setIscancelled(true);\r\n  };\r\n }, []);\r\n\r\n return { addDocument, deleteDocument, response };\r\n};\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport { useFirestore } from '../../hooks/useFirestore';\r\n\r\nexport default function TranscationForm({ uid }) {\r\n const [name, setName] = useState('');\r\n const [amount, setAmount] = useState('');\r\n\r\n const { addDocument, response } = useFirestore('transcation');\r\n\r\n const handleSubmit = (e) => {\r\n  e.preventDefault();\r\n  addDocument({ uid: uid, name: name, amount: amount });\r\n };\r\n\r\n useEffect(() => {\r\n  if (response.success) {\r\n   setAmount('');\r\n   setName('');\r\n  }\r\n }, [response.success]);\r\n\r\n return (\r\n  <>\r\n   <h3>Add Transcation :</h3>\r\n   <form onSubmit={handleSubmit}>\r\n    <label>\r\n     <span>Transcation name : </span>\r\n     <input\r\n      required\r\n      type='text'\r\n      onChange={(e) => setName(e.target.value)}\r\n      value={name}\r\n     />\r\n    </label>\r\n\r\n    <label>\r\n     <span>Amount : </span>\r\n     <input\r\n      required\r\n      type='number'\r\n      onChange={(e) => setAmount(e.target.value)}\r\n      value={amount}\r\n     />\r\n    </label>\r\n    <button>Add Transcation</button>\r\n   </form>\r\n  </>\r\n );\r\n}\r\n","import styles from '../pages/home/Home.module.css';\r\n\r\nimport { useFirestore } from '../hooks/useFirestore';\r\n\r\nexport default function TranscationList({ transcations }) {\r\n const { deleteDocument, response } = useFirestore('transcation');\r\n console.log(response);\r\n\r\n return (\r\n  <ul className={styles.transactions}>\r\n   {transcations.map((transcation) => (\r\n    <li key={transcation.id}>\r\n     <p className={styles.name}>{transcation.name}</p>\r\n     <p className={styles.amount}>${transcation.amount}</p>\r\n     <button onClick={() => deleteDocument(transcation.id)}>x</button>\r\n    </li>\r\n   ))}\r\n  </ul>\r\n );\r\n}\r\n","import { useAuthContexct } from '../../hooks/useAuthContext';\r\nimport styles from './Home.module.css';\r\nimport TranscationForm from './TranscationForm';\r\nimport { useCollection } from '../../hooks/useCollection';\r\nimport TranscationList from '../../components/TranscationList';\r\n\r\nexport default function Home() {\r\n const { user } = useAuthContexct();\r\n const { documents, error } = useCollection(\r\n  'transcation',\r\n  ['uid', '==', user.uid],\r\n  ['createdAt', 'desc']\r\n );\r\n\r\n return (\r\n  <div className={styles.container}>\r\n   <div className={styles.content}>\r\n    {error && <p>{error}</p>}\r\n\r\n    {documents && <TranscationList transcations={documents} />}\r\n   </div>\r\n   <div className={styles.sidebar}>\r\n    <TranscationForm uid={user.uid} />\r\n   </div>\r\n  </div>\r\n );\r\n}\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { projectfirestore } from '../firebase/config';\r\n\r\nexport const useCollection = (collection, _query, _orderBy) => {\r\n const [documents, setDocuments] = useState(null);\r\n\r\n const [error, setError] = useState(null);\r\n const query = useRef(_query).current;\r\n const orderBy = useRef(_orderBy).current;\r\n\r\n useEffect(() => {\r\n  let ref = projectfirestore.collection(collection);\r\n\r\n  if (query) {\r\n   ref = ref.where(...query);\r\n  }\r\n  if (orderBy) {\r\n   ref = ref.orderBy(...orderBy);\r\n  }\r\n\r\n  const unsubscribe = ref.onSnapshot(\r\n   (snapshot) => {\r\n    let result = [];\r\n\r\n    snapshot.docs.forEach((doc) => {\r\n     result.push({ ...doc.data(), id: doc.id });\r\n\r\n     // update state\r\n    });\r\n    setDocuments(result);\r\n    setError(null);\r\n\r\n    //unmount\r\n   },\r\n   (error) => {\r\n    console.log(error);\r\n    setError('dount nlot fetchdarta');\r\n   }\r\n  );\r\n }, [collection, query, orderBy]);\r\n\r\n return { documents, error };\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { projectAuth } from '../firebase/config';\r\nimport { useAuthContexct } from './useAuthContext';\r\n\r\nexport const useLogin = () => {\r\n const [isCancelled, setIsCancelled] = useState(false);\r\n const [error, setError] = useState(null);\r\n const [isPending, setIspending] = useState(false);\r\n const { dispatch } = useAuthContexct();\r\n\r\n const login = async (email, password) => {\r\n  setError(null);\r\n  setIspending(true);\r\n  try {\r\n   const res = await projectAuth.signInWithEmailAndPassword(email, password);\r\n   dispatch({ type: 'LOGIN', payload: res.user });\r\n\r\n   if (!isCancelled) {\r\n    // true\r\n    setIspending(false);\r\n    setError(null);\r\n   }\r\n  } catch (err) {\r\n   if (!isCancelled) {\r\n    // false\r\n\r\n    console.log(err.message);\r\n    setError(err.message);\r\n    setIspending(false);\r\n   }\r\n  }\r\n };\r\n useEffect(() => {\r\n  return () => {\r\n   setIsCancelled(true); // false\r\n  };\r\n }, []);\r\n\r\n return { error, isPending, login };\r\n};\r\n","import { useState } from 'react';\r\nimport { useLogin } from '../../hooks/useLogin';\r\nimport styles from './Login.module.css';\r\n\r\nexport default function Login() {\r\n const [email, setEmail] = useState('');\r\n const [password, setPassword] = useState('');\r\n\r\n const { login, error, isPending } = useLogin();\r\n\r\n const handleSubmit = (e) => {\r\n  e.preventDefault();\r\n  login(email, password);\r\n };\r\n\r\n return (\r\n  <form onSubmit={handleSubmit} className={styles['login-form']}>\r\n   <h2>login</h2>\r\n\r\n   <label>\r\n    <span>email:</span>\r\n    <input\r\n     value={email}\r\n     onChange={(e) => {\r\n      setEmail(e.target.value);\r\n     }}\r\n     type='email'\r\n    />\r\n   </label>\r\n\r\n   <label>\r\n    <span>password :</span>\r\n    <input\r\n     value={password}\r\n     onChange={(e) => {\r\n      setPassword(e.target.value);\r\n     }}\r\n     type='password'\r\n    />\r\n   </label>\r\n\r\n   {!isPending && (\r\n    <button type='submit' className='btn'>\r\n     login\r\n    </button>\r\n   )}\r\n   {isPending && (\r\n    <button disabled type='submit' className='btn'>\r\n     loading ...\r\n    </button>\r\n   )}\r\n   {error && <p>{error}</p>}\r\n  </form>\r\n );\r\n}\r\n","// Styles\r\nimport styles from './Signup.module.css';\r\n\r\nimport { useState } from 'react';\r\nimport { useSignup } from '../../hooks/useSignup';\r\n\r\nexport default function Signup() {\r\n const [email, setEmail] = useState('');\r\n const [password, setpassword] = useState('');\r\n const [displayName, setDisplayName] = useState('');\r\n const { error, isPending, signUp } = useSignup();\r\n\r\n const handleSubmit = (e) => {\r\n  e.preventDefault();\r\n  signUp(email, password, displayName);\r\n };\r\n\r\n return (\r\n  <form onSubmit={handleSubmit} className={styles['signup-form']}>\r\n   <h2>sign up</h2>\r\n   <label>\r\n    <span>email</span>\r\n    <input\r\n     onChange={(e) => setEmail(e.target.value)}\r\n     value={email}\r\n     type='text'\r\n    />\r\n   </label>\r\n\r\n   <label>\r\n    <span>password</span>\r\n    <input\r\n     onChange={(e) => setpassword(e.target.value)}\r\n     value={password}\r\n     type='password'\r\n    />\r\n   </label>\r\n\r\n   <label>\r\n    <span>display name</span>\r\n    <input\r\n     onChange={(e) => {\r\n      setDisplayName(e.target.value);\r\n     }}\r\n     value={displayName}\r\n     type='text'\r\n    />\r\n   </label>\r\n\r\n   {!isPending && (\r\n    <button className='btn' type='submit'>\r\n     sign up\r\n    </button>\r\n   )}\r\n\r\n   {isPending && (\r\n    <button className='btn' disabled>\r\n     loading...\r\n    </button>\r\n   )}\r\n   {error && <p>{error}</p>}\r\n  </form>\r\n );\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { projectAuth } from '../firebase/config';\r\n\r\nimport { useAuthContexct } from './useAuthContext';\r\n\r\nexport const useSignup = () => {\r\n const [isCancelled, setIsCancelled] = useState(false);\r\n\r\n const [error, setError] = useState(null);\r\n const [isPending, setIspending] = useState(false);\r\n const { dispatch } = useAuthContexct();\r\n\r\n const signUp = async (email, password, displayName) => {\r\n  setError(null);\r\n  setIspending(true);\r\n  try {\r\n   // signup user\r\n\r\n   const res = await projectAuth.createUserWithEmailAndPassword(\r\n    email,\r\n    password\r\n   );\r\n   console.log(res.user); // user that created\r\n\r\n   // dispatch login action\r\n   dispatch({ type: 'LOGIN', payload: res.user });\r\n\r\n   if (!res) {\r\n    throw new Error('could not compelete sign up');\r\n   }\r\n\r\n   // add displyname to user\r\n   await res.user.updateProfile({ displayName: displayName });\r\n   if (!isCancelled) {\r\n    setIspending(false);\r\n    setError(null);\r\n   }\r\n  } catch (err) {\r\n   if (!isCancelled) {\r\n    setIspending(false);\r\n    setError(err.message);\r\n   }\r\n  }\r\n };\r\n\r\n useEffect(() => {\r\n  return () => setIsCancelled(true);\r\n }, []);\r\n\r\n return { error, isPending, signUp };\r\n};\r\n","import { Link } from 'react-router-dom';\r\nimport './Navbar.css';\r\n\r\nimport { useLogout } from '../hooks/useLogout';\r\nimport { useAuthContexct } from '../hooks/useAuthContext';\r\n\r\nexport default function Navbar() {\r\n const { Logout } = useLogout();\r\n\r\n const { user } = useAuthContexct();\r\n\r\n return (\r\n  <nav className='navbar'>\r\n   <ul>\r\n    <Link to='/' className='title'>\r\n     My Money\r\n    </Link>\r\n\r\n    {!user && (\r\n     <>\r\n      <Link to='/login'>login</Link>\r\n      <Link to='/signup'>SignUp</Link>\r\n     </>\r\n    )}\r\n\r\n    {user && (\r\n     <>\r\n      <li>Hello, 😀 : {user.displayName}</li>\r\n\r\n      <li>\r\n       <button className='btn' onClick={Logout}>\r\n        logout\r\n       </button>\r\n      </li>\r\n     </>\r\n    )}\r\n   </ul>\r\n  </nav>\r\n );\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { projectAuth } from '../firebase/config';\r\nimport { useAuthContexct } from './useAuthContext';\r\n\r\nexport const useLogout = () => {\r\n const [isCancelled, setIsCancelled] = useState(false);\r\n const [error, setError] = useState(null);\r\n const [isPending, setIspending] = useState(false);\r\n const { dispatch } = useAuthContexct();\r\n\r\n const Logout = async () => {\r\n  setError(null);\r\n  setIspending(true);\r\n  try {\r\n   await projectAuth.signOut();\r\n   dispatch({ type: 'LOGOUT' });\r\n\r\n   if (!isCancelled) {\r\n    // true\r\n    setIspending(false);\r\n    setError(null);\r\n   }\r\n  } catch (err) {\r\n   if (!isCancelled) {\r\n    // false\r\n\r\n    console.log(err.message);\r\n    setError(err.message);\r\n    setIspending(false);\r\n   }\r\n  }\r\n };\r\n useEffect(() => {\r\n  return () => {\r\n   setIsCancelled(true); // false\r\n  };\r\n }, []);\r\n\r\n return { error, isPending, Logout };\r\n};\r\n","import { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { useAuthContexct } from './hooks/useAuthContext';\n\n//pages & components\nimport Home from './pages/home/Home';\nimport Login from './pages/login/Login';\nimport Signup from './pages/signup/Signup';\nimport Navbar from './components/Navbar';\n\nfunction App() {\n const { authIsReady, user } = useAuthContexct();\n\n return (\n  <div className='App'>\n   {authIsReady && (\n    <BrowserRouter>\n     <Navbar />\n\n     <Switch>\n      <Route exact path='/'>\n       {user && <Home />}\n       {!user && <Redirect to='/login'></Redirect>}\n      </Route>\n\n      <Route path='/login'>\n       {user && <Redirect to='/'></Redirect>}\n       {!user && <Login />}\n      </Route>\n\n      <Route path='/signup'>\n       {user && <Redirect to='/'></Redirect>}\n       {!user && <Signup />}\n      </Route>\n     </Switch>\n    </BrowserRouter>\n   )}\n  </div>\n );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n <AuthContextProvider>\n  <App />\n </AuthContextProvider>,\n document.getElementById('root')\n);\n"],"sourceRoot":""}